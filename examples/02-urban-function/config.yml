# Urban Function Example Configuration
# Purpose: Demonstrates handling complex schemas with many imports/includes
# This example uses the i-UR (international Urban Revitalization) standard

files:
  - ../../spec/fixtures/i-ur/urbanFunction.xsd
  - ../../spec/fixtures/i-ur/urbanObject.xsd

schema_location_mappings:
  # Map urbanObject import to local file
  - from: "../../uro/3.2/urbanObject.xsd"
    to: ../../spec/fixtures/i-ur/urbanObject.xsd
    pattern: false

  # Map relative ISO 19139 paths (gmd, gco, gss, gts, gmx, gsr)
  - from: '(?:\.\./)+((?:gmd|gco|gss|gts|gmx|gsr)/(.+\.xsd))$'
    to: ../../spec/fixtures/codesynthesis-gml-3.2.1/iso/19139/20070417/\1
    pattern: true

  # Map bare ISO 19139 schema filenames
  - from: '^(gmd|gco|gss|gts|gmx|gsr)\.xsd$'
    to: ../../spec/fixtures/codesynthesis-gml-3.2.1/iso/19139/20070417/\1/\1.xsd
    pattern: true

  # Map GML bare filenames (no gml/ prefix)
  - from: '^(basicTypes|coordinateOperations|coordinateReferenceSystems|coordinateSystems|coverage|datums|defaultStyle|deprecatedTypes|dictionary|direction|dynamicFeature|feature|geometryAggregates|geometryBasic0d1d|geometryBasic2d|geometryComplexes|geometryPrimitives|gml|gmlBase|grids|measures|observation|referenceSystems|temporal|temporalReferenceSystems|temporalTopology|topology|units|valueObjects|geometryComplexes)\.xsd$'
    to: ../../spec/fixtures/codesynthesis-gml-3.2.1/gml/3.2.1/\1.xsd
    pattern: true

  # Map GML relative paths with gml/ prefix
  - from: '(?:\.\./)+(gml/.+\.xsd)$'
    to: ../../spec/fixtures/codesynthesis-gml-3.2.1/\1
    pattern: true

  # Map ISO relative paths
  - from: '(?:\.\./)+(iso/.+\.xsd)$'
    to: ../../spec/fixtures/codesynthesis-gml-3.2.1/\1
    pattern: true

  # Map xlink relative paths
  - from: '(?:\.\./)+(xlink/.+\.xsd)$'
    to: ../../spec/fixtures/codesynthesis-gml-3.2.1/\1
    pattern: true

  # Map CityGML 2.0 HTTP URLs to local files
  - from: '^http://schemas\.opengis\.net/citygml/2\.0/(.+\.xsd)$'
    to: ../../spec/fixtures/citygml/2.0/\1
    pattern: true

  # Map CityGML module HTTP URLs to local files
  - from: '^http://schemas\.opengis\.net/citygml/([^/]+)/2\.0/(.+\.xsd)$'
    to: ../../spec/fixtures/citygml/\1/2.0/\2
    pattern: true

  # Map GML 3.1.1 base/gml.xsd specifically (3.1.1 not available, map to 3.2.1 gml.xsd)
  - from: '^http://schemas\.opengis\.net/gml/3\.1\.1/base/gml\.xsd$'
    to: ../../spec/fixtures/codesynthesis-gml-3.2.1/gml/3.2.1/gml.xsd
    pattern: false

  # Map other GML 3.1.1 paths to 3.2.1 (stripping /base/ if present)
  - from: '^http://schemas\.opengis\.net/gml/3\.1\.1/(?:base/)?(.+\.xsd)$'
    to: ../../spec/fixtures/codesynthesis-gml-3.2.1/gml/3.2.1/\1
    pattern: true

  # Map xAL HTTP URLs to local files (used by CityGML)
  - from: '^http://docs\.oasis-open\.org/election/external/xAL\.xsd$'
    to: ../../spec/fixtures/citygml/xAL/xAL.xsd
    pattern: false

namespace_mappings:
  - prefix: "xs"
    uri: "http://www.w3.org/2001/XMLSchema"
  - prefix: "urf"
    uri: "https://www.geospatial.jp/iur/urf/3.2"
  - prefix: "uro"
    uri: "https://www.geospatial.jp/iur/uro/3.2"
  - prefix: "gml"
    uri: "http://www.opengis.net/gml/3.2"
  - prefix: "xlink"
    uri: "http://www.w3.org/1999/xlink"